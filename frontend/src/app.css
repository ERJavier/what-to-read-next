@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		/* Light mode colors */
		--bg-base: #faf8f3;
		--bg-surface: #ffffff;
		--bg-elevated: #f5f5dc;
		--text-primary: #1a1a1a;
		--text-secondary: #2d2d2d;
		--text-muted: #666666;
		--border-default: #d4af37;
	}

	.dark {
		/* Dark mode colors (Dark Academia) */
		--bg-base: #1a1a1a;
		--bg-surface: #2d2d2d;
		--bg-elevated: #3d3d3d;
		--text-primary: #f5f5dc;
		--text-secondary: #e0e0d0;
		--text-muted: #a0a090;
		--border-default: #8b7355;
	}

	body {
		@apply bg-base text-primary font-sans transition-colors duration-300;
		background-color: var(--bg-base);
		color: var(--text-primary);
	}

	/* Smooth theme transitions */
	* {
		transition-property: background-color, border-color, color, fill, stroke;
		transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
		transition-duration: 300ms;
	}

	/* 
	 * Color Contrast Notes for WCAG AA Compliance:
	 * 
	 * Dark Mode:
	 * - academia-cream (#f5f5dc) on academia-dark (#1a1a1a): ~15:1 ✅ Excellent
	 * - academia-cream on academia-light (#2d2d2d): ~13:1 ✅ Excellent  
	 * 
	 * Light Mode:
	 * - #1a1a1a on #faf8f3: ~16:1 ✅ Excellent
	 * - #2d2d2d on #ffffff: ~15:1 ✅ Excellent
	 * 
	 * Note: Lower opacity text may have reduced contrast.
	 * Use with caution and ensure minimum 4.5:1 for normal text, 3:1 for large text (WCAG AA).
	 */

	/* Skip link styles */
	.sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border-width: 0;
	}

	.focus\:not-sr-only:focus {
		position: static;
		width: auto;
		height: auto;
		padding: inherit;
		margin: inherit;
		overflow: visible;
		clip: auto;
		white-space: normal;
	}

	/* Enhanced focus styles for accessibility */
	*:focus-visible {
		outline: 2px solid var(--border-default);
		outline-offset: 2px;
	}

	/* Ensure buttons have visible focus states */
	button:focus-visible,
	a:focus-visible,
	input:focus-visible,
	select:focus-visible,
	textarea:focus-visible {
		outline: 2px solid var(--border-default);
		outline-offset: 2px;
		z-index: 1;
	}
}

@layer components {
	.card {
		@apply bg-surface dark:bg-academia-light rounded-lg shadow-lg p-6 border border-default dark:border-academia-lighter;
	}
	
	.btn {
		@apply px-4 py-2 rounded-md font-medium transition-colors;
	}
	
	.btn-primary {
		@apply bg-academia-accent dark:bg-academia-accent text-white hover:bg-academia-gold dark:hover:bg-academia-gold;
	}
	
	.btn-secondary {
		@apply bg-elevated dark:bg-academia-lighter text-primary dark:text-academia-cream hover:bg-academia-cream/30 dark:hover:bg-academia-light border border-default/30 dark:border-academia-lighter/50;
	}
	
	.input {
		@apply w-full px-4 py-2 bg-surface dark:bg-academia-light border border-default/50 dark:border-academia-lighter rounded-md text-primary dark:text-academia-cream placeholder-text-muted dark:placeholder-academia-accent focus:outline-none focus:ring-2 focus:ring-academia-gold dark:focus:ring-academia-gold;
	}
}
